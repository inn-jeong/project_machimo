<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        input::-webkit-inner-spin-button {
            appearance: none;
            -moz-appearance: none;
            -webkit-appearance: none;
        }
    </style>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <script src="/gyuha/auction.js">


    </script>
</head>
<link rel="stylesheet" href="/gyuha/header.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>
<link rel="stylesheet" href="/gyuha/heart.css">

<body>
<th:block th:replace="fragments/header :: headerFragment"></th:block>
<!-- NAV -->


<!-- <button type="button" class="btn btn-success btn-lg" data-bs-toggle="modal"
                data-bs-target="#staticBackdrop">

        </button> -->
<main>



    <div class="container">
        <div class="row justify-content-center ">
            <div class="col-lg-8 mb-4">
                <div id="carouselExampleFade" class="carousel slide carousel-fade">
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <img src="/img/1.jpg" class="d-block w-100" alt="">
                        </div>
                        <div class="carousel-item active-table-tab">
                            <img src="/img/2.jpg" class="d-block w-100" alt="...">
                        </div>
                        <div class="carousel-item active-table-tab">
                            <img src="/img/3.jpg" class="d-block w-100" alt="...">
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" d




                            data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleFade"
                            data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
            </div>

            <div class="col-lg-4 border p-4">
                <h2 class="mb-3">Ï†úÌíà Ï†úÎ™©</h2>

                <p><strong>Í≤ΩÎß§ Ï¢ÖÎ£åÏùº:</strong> <span th:text="${endDate}"></span></p>
                <div>
                    <br>
                </div>
                <div th:if="${pView.pSaleType() ==0}">
                    <p><strong id="test2" th:unless="${hasBidHistory}"
                               data-th-text="${#numbers.formatInteger(aList.highestBid(), 3, 'COMMA') + 'Ïõê'}">>ÏµúÍ∑º Í∞ÄÍ≤©</b>
                    </strong></p>
                    <p><strong th:if="${hasBidHistory}"
                               data-th-text="${#numbers.formatInteger(pView.pBPrice(), 3, 'COMMA') + 'Ïõê'}">>ÏµúÍ∑º Í∞ÄÍ≤©</b>
                    </strong></p>
                </div>
                <div th:if="${pView.pSaleType() ==1}">
                    <b class="h4"
                       data-th-text="${#numbers.formatInteger(pView.pDirect(), 3, 'COMMA') + 'Ïõê'}">Ï¶âÏãú ÌåêÎß§ Í∞ÄÍ≤©</b>
                </div>

                <div>
                    <span th:text="${pView.pInfo()}">Ï†úÌíà ÏÑ§Î™Ö</span>
                </div>

                <div th:unless="${isSaleEnded}">
                    <button th:if="${pView.pSaleType()==0}" type="button" class="btn btn-success btn-lg mb-3 w-100"
                            data-bs-toggle="modal"
                            data-bs-target="#staticBackdrop">
                        ÏûÖÏ∞∞ÌïòÍ∏∞
                    </button>

                    <form action="/order/buyDirect" method="post">
                        <input th:if="${pView.pSaleType()==1}" type="submit"
                               class="btn btn-success btn-lg mb-3 w-100" value="Ï¶âÏãúÍµ¨Îß§" id="buyDirect">
                        <input hidden id="pid" th:value="${pView.productsId()}" name=productId>
                    </form>

                    <button type="button" class="btn btn-secondary btn-lg mb-3 w-100" onclick="add_basket()">
                        Ïû•Î∞îÍµ¨Îãà
                    </button>

                    <div class="heart-btn">
                        <input id="likebox" th:checked="${isLiked}" type="checkbox" onclick="checkbox()" >
                        <button  onclick="checkUserAndAct()" class="like" ><span>Ï∞ú</span></button>
                    </div>

                </div>

                <button type="button" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#test"
                        data-bs-whatever="@getbootstrap">Ïã†Í≥†
                </button>


                <button type="button" onclick="clip()" class="btn btn-link">Í≥µÏú†</button>
                <div th:if="${isSaleEnded}">
                    <p>ÌåêÎß§Í∞Ä ÏôÑÎ£åÎêú Ï†úÌíàÏûÖÎãàÎã§.</p>
                </div>
            </div>
        </div>
        <div th:if="${pView.pSaleType()==0}" class="row mt-4">
            <div class="col">
                <h2 class="mb-3">ÏûÖÏ∞∞ ÎÇ¥Ïó≠</h2>
                <div id="test3" th:each="bShow:${bList}">
                    <span th:unless="${hasBidHistory}"
                          th:text="${#numbers.formatInteger(bShow.amount(), 3, 'COMMA') + 'Ïõê'}"></span>
                </div>
            </div>
        </div>
    </div>
</main>

<div hidden="hidden" >
    <input type="hidden" th:value="${sellerId}" id="seller">
</div>
<!--&#45;&#45;                Î™®Îã¨ -->
<!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1">
    <form action="amountCheck" method="post">

        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">

                    <h1 class=" modal-title fs-5 " id="staticBackdropLabel">ÏûÖÏ∞∞Í∞Ä ÏûÖÎ†•</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body ">
                    <div class="input-group mb-3">
                        <input type="number" name="bids" class="form-control"
                               aria-label="Won amount (with dot and two decimal places)">
                        <span class="input-group-text">‚Ç©</span>
                        <input name="productId" type="hidden" th:value="${pView.productsId()}">
                        <input name="bidsHistory" type="hidden" th:value="${pView.productsId()}">
                        <input name="firstPrice" type="hidden" th:value="${pView.pBPrice()}">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="test1" class="btn btn-secondary" data-bs-dismiss="modal">Ï∑®ÏÜå</button>
                    <button id="compare" type="button" class="btn btn-primary">ÏûÖÏ∞∞</button>
                </div>
            </div>
        </div>
    </form>
</div>


<div class="modal fade" id="test" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="exampleModalLabel">Ïã†Í≥†üö®</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form>
                    <div class="mb-3">
                        <label for="report_content" class="col-form-label">Ïã†Í≥†ÎÇ¥Ïö©:</label>
                        <textarea id="report_content" class="form-control"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" id="report_cancel" class="btn btn-secondary" data-bs-dismiss="modal">Ï∑®ÏÜå</button>
                <button type="button" id="report_btn" class="btn btn-primary">Ïã†Í≥†ÌïòÍ∏∞</button>
            </div>
        </div>
    </div>

</div>
<input hidden="hidden" th:value="${sss}" value="0" id="sss">
<th:block th:replace="fragments/footer:: footerFragment"></th:block>
</body>
</html>